/// <reference path="Jssor.Core.js" />

/*
* Jssor.Utils 15.0
* http://www.jssor.com/
* 
* TERMS OF USE - Jssor.Utils
* 
* Copyright 2014 Jssor
*
* Permission is hereby granted, free of charge, to any person obtaining
* a copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to
* the following conditions:
* 
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
* LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
* OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
* WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/


function $JssorPlayerClass$(){function n(e){function i(t){var s=$JssorUtils$.$GetEventSrcElement(t);n=s.pInstance;$JssorUtils$.$RemoveEvent(s,"dataavailable",i);$JssorUtils$.$Each(r,function(e){if(e!=n){e.$Remove()}});e.pTagName=n.tagName;r=null}function s(t){var n;if(!t.pInstance){var s=$JssorUtils$.$GetAttribute(t,"pHandler");if($JssorPlayer$[s]){$JssorUtils$.$AddEvent(t,"dataavailable",i);n=new $JssorPlayer$[s](e,t);r.push(n);$JssorDebug$.$Execute(function(){if($JssorUtils$.$Type(n.$Remove)!="function"){$JssorDebug$.$Fail("'pRemove' interface not implemented for player handler '"+s+"'.")}})}}return n}var t=this;var n;var r=[];t.$InitPlayerController=function(){if(!e.pInstance&&!s(e)){var t=$JssorUtils$.$GetChildren(e);$JssorUtils$.$Each(t,function(e){s(e)})}}}var e=this;var t=[];e.$EVT_SWITCH=21;e.$FetchPlayers=function(e){e=e||document.body;var r=$JssorUtils$.$FindChildrenByAttribute(e,"player",null,true);$JssorUtils$.$Each(r,function(e){if(!t[e.pId]){e.pId=t.length;t.push(new n(e))}var r=t[e.pId];r.$InitPlayerController()})}}var $JssorPoint$;(function(){$JssorPoint$=function(e,t){this.x=typeof e=="number"?e:0;this.y=typeof t=="number"?t:0};var e=$JssorPoint$.prototype;e.$Plus=function(e){return new $JssorPoint$(this.x+e.x,this.y+e.y)};e.$Minus=function(e){return new $JssorPoint$(this.x-e.x,this.y-e.y)};e.$Times=function(e){return new $JssorPoint$(this.x*e,this.y*e)};e.$Divide=function(e){return new $JssorPoint$(this.x/e,this.y/e)};e.$Negate=function(){return new $JssorPoint$(-this.x,-this.y)};e.$DistanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};e.$Apply=function(e){return new $JssorPoint$(e(this.x),e(this.y))};e.$Equals=function(e){return e instanceof $JssorPoint$&&this.x===e.x&&this.y===e.y};e.$ToString=function(){return"("+this.x+","+this.y+")"}})();var $JssorEasing$=window.$JssorEasing$={$EaseLinear:function(e){return e},$EaseGoBack:function(e){return 1-Math.abs((e*=2)-1)},$EaseSwing:function(e){return-Math.cos(e*Math.PI)/2+.5},$EaseInQuad:function(e){return e*e},$EaseOutQuad:function(e){return-e*(e-2)},$EaseInOutQuad:function(e){return(e*=2)<1?1/2*e*e:-1/2*(--e*(e-2)-1)},$EaseInCubic:function(e){return e*e*e},$EaseOutCubic:function(e){return(e-=1)*e*e+1},$EaseInOutCubic:function(e){return(e*=2)<1?1/2*e*e*e:1/2*((e-=2)*e*e+2)},$EaseInQuart:function(e){return e*e*e*e},$EaseOutQuart:function(e){return-((e-=1)*e*e*e-1)},$EaseInOutQuart:function(e){return(e*=2)<1?1/2*e*e*e*e:-1/2*((e-=2)*e*e*e-2)},$EaseInQuint:function(e){return e*e*e*e*e},$EaseOutQuint:function(e){return(e-=1)*e*e*e*e+1},$EaseInOutQuint:function(e){return(e*=2)<1?1/2*e*e*e*e*e:1/2*((e-=2)*e*e*e*e+2)},$EaseInSine:function(e){return 1-Math.cos(e*Math.PI/2)},$EaseOutSine:function(e){return Math.sin(e*Math.PI/2)},$EaseInOutSine:function(e){return-1/2*(Math.cos(Math.PI*e)-1)},$EaseInExpo:function(e){return e==0?0:Math.pow(2,10*(e-1))},$EaseOutExpo:function(e){return e==1?1:-Math.pow(2,-10*e)+1},$EaseInOutExpo:function(e){return e==0||e==1?e:(e*=2)<1?1/2*Math.pow(2,10*(e-1)):1/2*(-Math.pow(2,-10*--e)+2)},$EaseInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},$EaseOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},$EaseInOutCirc:function(e){return(e*=2)<1?-1/2*(Math.sqrt(1-e*e)-1):1/2*(Math.sqrt(1-(e-=2)*e)+1)},$EaseInElastic:function(e){if(!e||e==1)return e;var t=.3,n=.075;return-(Math.pow(2,10*(e-=1))*Math.sin((e-n)*2*Math.PI/t))},$EaseOutElastic:function(e){if(!e||e==1)return e;var t=.3,n=.075;return Math.pow(2,-10*e)*Math.sin((e-n)*2*Math.PI/t)+1},$EaseInOutElastic:function(e){if(!e||e==1)return e;var t=.45,n=.1125;return(e*=2)<1?-.5*Math.pow(2,10*(e-=1))*Math.sin((e-n)*2*Math.PI/t):Math.pow(2,-10*(e-=1))*Math.sin((e-n)*2*Math.PI/t)*.5+1},$EaseInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},$EaseOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},$EaseInOutBack:function(e){var t=1.70158;return(e*=2)<1?1/2*e*e*(((t*=1.525)+1)*e-t):1/2*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},$EaseInBounce:function(e){return 1-$JssorEasing$.$EaseOutBounce(1-e)},$EaseOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},$EaseInOutBounce:function(e){return e<1/2?$JssorEasing$.$EaseInBounce(e*2)*.5:$JssorEasing$.$EaseOutBounce(e*2-1)*.5+.5},$EaseInWave:function(e){return 1-Math.cos(e*Math.PI*2)},$EaseOutWave:function(e){return Math.sin(e*Math.PI*2)},$EaseOutJump:function(e){return 1-((e*=2)<1?(e=1-e)*e*e:(e-=1)*e*e)},$EaseInJump:function(e){return(e*=2)<1?e*e*e:(e=2-e)*e*e}};var $JssorDirection$=window.$JssorDirection$={$TO_LEFT:1,$TO_RIGHT:2,$TO_TOP:4,$TO_BOTTOM:8,$HORIZONTAL:3,$VERTICAL:12,$LEFTRIGHT:3,$TOPBOTOM:12,$TOPLEFT:5,$TOPRIGHT:6,$BOTTOMLEFT:9,$BOTTOMRIGHT:10,$AROUND:15,$GetDirectionHorizontal:function(e){return e&3},$GetDirectionVertical:function(e){return e&12},$ChessHorizontal:function(e){return(~e&3)+(e&12)},$ChessVertical:function(e){return(~e&12)+(e&3)},$IsToLeft:function(e){return(e&3)==1},$IsToRight:function(e){return(e&3)==2},$IsToTop:function(e){return(e&12)==4},$IsToBottom:function(e){return(e&12)==8},$IsHorizontal:function(e){return(e&3)>0},$IsVertical:function(e){return(e&12)>0}};var $JssorKeyCode$={$BACKSPACE:8,$COMMA:188,$DELETE:46,$DOWN:40,$END:35,$ENTER:13,$ESCAPE:27,$HOME:36,$LEFT:37,$NUMPAD_ADD:107,$NUMPAD_DECIMAL:110,$NUMPAD_DIVIDE:111,$NUMPAD_ENTER:108,$NUMPAD_MULTIPLY:106,$NUMPAD_SUBTRACT:109,$PAGE_DOWN:34,$PAGE_UP:33,$PERIOD:190,$RIGHT:39,$SPACE:32,$TAB:9,$UP:38};var $JssorAlignment$={$TopLeft:17,$TopCenter:18,$TopRight:20,$MiddleLeft:33,$MiddleCenter:34,$MiddleRight:36,$BottomLeft:65,$BottomCenter:66,$BottomRight:68,$IsTop:function(e){return e&16>0},$IsMiddle:function(e){return e&32>0},$IsBottom:function(e){return e&64>0},$IsLeft:function(e){return e&1>0},$IsCenter:function(e){return e&2>0},$IsRight:function(e){return e&4>0}};var $JssorMatrix$;var $JssorBrowser$={$UNKNOWN:0,$IE:1,$FIREFOX:2,$SAFARI:3,$CHROME:4,$OPERA:5};var $ROWSER_UNKNOWN$=0;var $ROWSER_IE$=1;var $ROWSER_FIREFOX$=2;var $ROWSER_SAFARI$=3;var $ROWSER_CHROME$=4;var $ROWSER_OPERA$=5;var $JssorAnimator$;var $JssorUtils$=window.$JssorUtils$=new function(){function h(){if(!r){if(a=="Microsoft Internet Explorer"&&!!window.attachEvent&&!!window.ActiveXObject){var e=l.indexOf("MSIE");r=$JssorBrowser$.$IE;s=parseFloat(l.substring(e+5,l.indexOf(";",e)));i=document.documentMode||s}else if(a=="Netscape"&&!!window.addEventListener){var t=l.indexOf("Firefox");var n=l.indexOf("Safari");var o=l.indexOf("Chrome");var f=l.indexOf("AppleWebKit");if(t>=0){r=$JssorBrowser$.$FIREFOX;i=parseFloat(l.substring(t+8))}else if(n>=0){var c=l.substring(0,n).lastIndexOf("/");r=o>=0?$JssorBrowser$.$CHROME:$JssorBrowser$.$SAFARI;i=parseFloat(l.substring(c+1,n))}if(f>=0)u=parseFloat(l.substring(f+12))}else{var h=/(opera)(?:.*version|)[ \/]([\w.]+)/i.exec(l);if(h){r=$JssorBrowser$.$OPERA;i=parseFloat(h[2])}}}}function p(){h();return r==$ROWSER_IE$}function d(){return p()&&(i<6||document.compatMode=="BackCompat")}function v(){h();return r==$ROWSER_FIREFOX$}function m(){h();return r==$ROWSER_SAFARI$}function g(){h();return r==$ROWSER_CHROME$}function y(){h();return r==$ROWSER_OPERA$}function b(){return m()&&u>534&&u<535}function w(){return m()&&u<535}function E(){return p()&&i<9}function x(t){if(!S){k(["transform","WebkitTransform","msTransform","MozTransform","OTransform"],function(n){if(!e.$IsUndefined(t.style[n])){S=n;return true}});S=S||"transform"}return S}function T(e,t){if(t&&e!=document.body){return document.body}else{return e.offsetParent}}function N(e){return Object.prototype.toString.call(e)}function k(e,t){if(N(e)=="[object Array]"){for(var n=0;n<e.length;n++){if(t(e[n],n,e)){break}}}else{for(var r in e){if(t(e[r],r,e)){break}}}}function L(){if(!C){C={};k(["Boolean","Number","String","Function","Array","Date","RegExp","Object"],function(e){C["[object "+e+"]"]=e.toLowerCase()})}return C}function A(e){return e==null?String(e):L()[N(e)]||"object"}function O(t){if(!t||A(t)!=="object"||t.nodeType||e.$IsWindow(t)){return false}var n=Object.prototype.hasOwnProperty;try{if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf")){return false}}catch(r){return false}var i;for(i in t){}return i===undefined||n.call(t,i)}function M(e,t){setTimeout(e,t||0)}function _(e,t){var n=t.exec(e);if(n){var r=e.substr(0,n.index);var i=e.substr(n.lastIndex+1,e.length-(n.lastIndex+1));e=r+i}return e}function D(e,t,n){var r=!e||e=="inherit"?"":e;k(t,function(e){var t=e.exec(r);if(t){var n=r.substr(0,t.index);var i=r.substr(t.lastIndex+1,r.length-(t.lastIndex+1));r=n+i}});r=n+(r.indexOf(" ")!=0?" ":"")+r;return r}function P(e,t){if(i<9){e.style.filter=t}}function H(t,n,r){if(o<9){var i=t.style.filter;var s=new RegExp(/[\s]*progid:DXImageTransform\.Microsoft\.Matrix\([^\)]*\)/g);var u=n?"progid:DXImageTransform.Microsoft.Matrix("+"M11="+n[0][0]+", M12="+n[0][1]+", M21="+n[1][0]+", M22="+n[1][1]+", SizingMethod='auto expand')":"";var a=D(i,[s],u);P(t,a);e.$SetStyleMarginTop(t,r.y);e.$SetStyleMarginLeft(t,r.x)}}function B(t,n){var r=n.$Rotate||0;var i=n.$Scale||1;if(E()){var s=e.$CreateMatrix(r/180*Math.PI,i,i);H(t,!r&&i==1?null:s,e.$GetMatrixOffset(s,n.$OriginalWidth,n.$OriginalHeight))}else{var o=x(t);if(o){var a="rotate("+r%360+"deg) scale("+i+")";if($JssorUtils$.$IsBrowserChrome()&&u>535)a+=" perspective(2000px)";t.style[o]=a}}}function q(e){var t=true;var n=d()?e.document.body:e.document.documentElement;if(n){var r=n.offsetWidth-j;var i=n.offsetHeight-F;if(r||i){j+=r;F+=i}else t=false}t&&k(I,function(e){e()})}function U(e,t,n,r){if(!n)n="u";for(e=e?e.firstChild:null;e;e=e.nextSibling){if(e.nodeType==1){if(e.getAttribute(n)==t)return e;if(r){var i=U(e,t,n,r);if(i)return i}}}}function z(e,t,n,r){if(!n)n="u";var i=[];for(e=e?e.firstChild:null;e;e=e.nextSibling){if(e.nodeType==1){if(e.getAttribute(n)==t)i.push(e);if(r){var s=z(e,t,n,r);if(s.length)i=i.concat(s)}}}return i}function W(e,t,n){for(e=e?e.firstChild:null;e;e=e.nextSibling){if(e.nodeType==1){if(e.tagName==t)return e;if(n){var r=W(e,t,n);if(r)return r}}}}function X(e,t,n){var r=[];for(e=e?e.firstChild:null;e;e=e.nextSibling){if(e.nodeType==1){if(!t||e.tagName==t)r.push(e);if(n){var i=X(e,t,true);if(i.length)r=r.concat(i)}}}return r}function V(e,t,n){t.onload=null;t.abort=null;if(e)e(t,n)}function K(t){function o(){var e=r;if(i){e+="dn"}else if(s){e+="av"}$JssorUtils$.$SetClassName(t,e)}function u(e){$.push(n);i=true;o()}var n=this;var r;var i;var s;n.$MouseUp=function(){i=false;o()};n.$Activate=function(e){s=e;o()};{t=e.$GetElement(t);if(!$){e.$AddEventBrowserMouseUp(function(){var e=$;$=[];k(e,function(e){e.$MouseUp()})});$=[]}r=e.$GetClassName(t);$JssorUtils$.$AddEvent(t,"mousedown",u)}}function Y(){return G}function Z(){Y();G.$Transform=G.$Transform;return G}var e=this;var t=["Msxml2.XMLHTTP","Msxml3.XMLHTTP","Microsoft.XMLHTTP"];var n={bmp:false,jpeg:true,jpg:true,png:true,tif:false,wdp:false};var r=$JssorBrowser$.$UNKNOWN;var i=0;var s=0;var o=0;var u=0;var a=navigator.appName;var f=navigator.appVersion;var l=navigator.userAgent;var c={};var S;{}var C;e.$IsBrowserIE=p;e.$IsBrowserIeQuirks=d;e.$IsBrowserFireFox=v;e.$IsBrowserSafari=m;e.$IsBrowserChrome=g;e.$IsBrowserOpera=y;e.$IsBrowserBadTransform=b;e.$IsBrowserSafeHWA=w;e.$IsBrowserIe9Earlier=E;e.$GetBrowserVersion=function(){return i};e.$GetBrowserEngineVersion=function(){return s||i};e.$GetWebKitVersion=function(){return u};e.$Delay=M;e.$GetElement=function(t){if(e.$IsString(t)){t=document.getElementById(t)}return t};e.$GetElementPosition=function(t){t=e.$GetElement(t);var n=new $JssorPoint$;while(t){n.x+=t.offsetLeft;n.y+=t.offsetTop;var r=e.$GetElementStyle(t).position=="fixed";if(r){n=n.$Plus(e.$GetPageScroll(window))}t=T(t,r)}return n};e.$GetElementSize=function(t){t=e.$GetElement(t);return new $JssorPoint$(t.clientWidth,t.clientHeight)};e.$GetElementStyle=function(t){t=e.$GetElement(t);if(t.currentStyle){return t.currentStyle}else if(window.getComputedStyle){return window.getComputedStyle(t,"")}else{$JssorDebug$.$Fail("Unknown elmt style, no known technique.")}};e.$GetEvent=function(e){return e?e:window.event};e.$GetEventSrcElement=function(t){t=e.$GetEvent(t);return t.target||t.srcElement||document};e.$GetEventDstElement=function(t){t=e.$GetEvent(t);return t.relatedTarget||t.toElement};e.$GetMousePosition=function(t){t=e.$GetEvent(t);var n=new $JssorPoint$;if(t.type=="DOMMouseScroll"&&v()&&i<3){n.x=t.screenX;n.y=t.screenY}else if(typeof t.pageX=="number"){n.x=t.pageX;n.y=t.pageY}else if(typeof t.clientX=="number"){n.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;n.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop}else{$JssorDebug$.$Fail("Unknown event mouse position, no known technique.")}return n};e.$GetMouseScroll=function(t){t=e.$GetEvent(t);var n=0;if(typeof t.wheelDelta=="number"){n=t.wheelDelta}else if(typeof t.detail=="number"){n=t.detail*-1}else{$JssorDebug$.$Fail("Unknown event mouse scroll, no known technique.")}return n?n/Math.abs(n):0};e.$GetPageScroll=function(e){var t=new $JssorPoint$;var n=e.document.documentElement||{};var r=e.document.body||{};if(typeof e.pageXOffset=="number"){t.x=e.pageXOffset;t.y=e.pageYOffset}else if(r.scrollLeft||r.scrollTop){t.x=r.scrollLeft;t.y=r.scrollTop}else if(n.scrollLeft||n.scrollTop){t.x=n.scrollLeft;t.y=n.scrollTop}return t};e.$GetWindowSize=function(e){var t=new $JssorPoint$;var n=d()?e.document.body:e.document.documentElement;t.x=n.clientWidth;t.y=n.clientHeight;return t};e.$GetStyleOpacity=function(e){if(p()&&s<9){var t=/opacity=([^)]*)/.exec(e.style.filter||"");return t?parseFloat(t[1])/100:1}else return parseFloat(e.style.opacity||"1")};e.$SetStyleOpacity=e.$setElementOpacity=function(e,t,n){if(p()&&s<9){var r=e.style.filter||"";var i=new RegExp(/[\s]*alpha\([^\)]*\)/g);var o=Math.round(100*t);var u="";if(o<100||n){u="alpha(opacity="+o+") "}var a=D(r,[i],u);P(e,a)}else{e.style.opacity=t==1?"":Math.round(t*100)/100}};e.$SetStyleTransform=function(t,n){if(b()){M(e.$CreateCallback(null,B,t,n))}else{B(t,n)}};e.$SetStyleTransformOrigin=function(e,t){var n=x(e);if(n)e.style[n+"Origin"]=t};e.$SetStyleScale=function(e,t){if(p()&&s<9||s<10&&d()){e.style.zoom=t==1?"":t}else{var n=x(e);if(n){var r="scale("+t+")";var i=e.style[n];var o=new RegExp(/[\s]*scale\(.*?\)/g);var u=D(i,[o],r);e.style[n]=u}}};e.$EnableHWA=function(e){if(!e.style[x(e)]||e.style[x(e)]=="none")e.style[x(e)]="perspective(2000px)"};e.$DisableHWA=function(e){e.style[x(e)]="none"};e.$GetStyleFloat=function(e){return p()?e.style.styleFloat:e.style.cssFloat};e.$SetStyleFloat=function(e,t){if(p())e.style.styleFloat=t;else e.style.cssFloat=t};var j=0;var F=0;var I;e.$OnWindowResize=function(t,n){if(p()&&s<9){if(!I){I=[n];n=e.$CreateCallback(null,q,t)}else{I.push(n);return}}e.$AddEvent(t,"resize",n)};e.$AddEvent=function(t,n,r,i){t=e.$GetElement(t);if(t.addEventListener){if(n=="mousewheel"){t.addEventListener("DOMMouseScroll",r,i)}t.addEventListener(n,r,i)}else if(t.attachEvent){t.attachEvent("on"+n,r);if(i&&t.setCapture){t.setCapture()}}$JssorDebug$.$Execute(function(){if(!t.addEventListener&&!t.attachEvent){$JssorDebug$.$Fail("Unable to attach event handler, no known technique.")}})};e.$RemoveEvent=function(t,n,r,i){t=e.$GetElement(t);if(t.removeEventListener){if(n=="mousewheel"){t.removeEventListener("DOMMouseScroll",r,i)}t.removeEventListener(n,r,i)}else if(t.detachEvent){t.detachEvent("on"+n,r);if(i&&t.releaseCapture){t.releaseCapture()}}$JssorDebug$.$Execute(function(){if(!t.removeEventListener&&!t.detachEvent){$JssorDebug$.$Fail("Unable to detach event handler, no known technique.")}})};e.$FireEvent=function(e,t){$JssorDebug$.$Execute(function(){if(!document.createEvent&&!document.createEventObject){$JssorDebug$.$Fail("Unable to fire event, no known technique.")}if(!e.dispatchEvent&&!e.fireEvent){$JssorDebug$.$Fail("Unable to fire event, no known technique.")}});var n;if(document.createEvent){n=document.createEvent("HTMLEvents");n.initEvent(t,false,false);e.dispatchEvent(n)}else{var r="on"+t;n=document.createEventObject();e.fireEvent(r,n)}};e.$AddEventBrowserMouseUp=function(t,n){e.$AddEvent(E()?document:window,"mouseup",t,n)};e.$RemoveEventBrowserMouseUp=function(t,n){e.$RemoveEvent(E()?document:window,"mouseup",t,n)};e.$AddEventBrowserMouseDown=function(t,n){e.$AddEvent(E()?document:window,"mousedown",t,n)};e.$RemoveEventBrowserMouseDown=function(t,n){e.$RemoveEvent(E()?document:window,"mousedown",t,n)};e.$CancelEvent=function(t){t=e.$GetEvent(t);if(t.preventDefault){t.preventDefault()}t.cancel=true;t.returnValue=false};e.$StopEvent=function(t){t=e.$GetEvent(t);if(t.stopPropagation){t.stopPropagation()}t.cancelBubble=true};e.$CreateCallback=function(e,t){var n=[];for(var r=2;r<arguments.length;r++){n.push(arguments[r])}var i=function(){var r=n.concat([]);for(var i=0;i<arguments.length;i++){r.push(arguments[i])}return t.apply(e,r)};$JssorDebug$.$LiveStamp(i,"callback_"+($JssorUtils$.$GetNow()&11111111));return i};var R;e.$FreeElement=function(t){if(!R)R=e.$CreateDivElement();if(t){$JssorUtils$.$AppendChild(R,t);$JssorUtils$.$ClearInnerHtml(R)}};e.$SetInnerText=function(t,n){var r=document.createTextNode(n);e.$ClearInnerHtml(t);t.appendChild(r)};e.$GetInnerText=function(e){return e.textContent||e.innerText};e.$GetInnerHtml=function(e){return e.innerHTML};e.$SetInnerHtml=function(e,t){e.innerHTML=t};e.$ClearInnerHtml=function(e){e.innerHTML=""};e.$EncodeHtml=function(t){var n=e.$CreateDivElement();e.$SetInnerText(n,t);return e.$GetInnerHtml(n)};e.$DecodeHtml=function(t){var n=e.$CreateDivElement();e.$SetInnerHtml(n,t);return e.$GetInnerText(n)};e.$SelectElement=function(e){var t;if(window.getSelection){t=window.getSelection()}var n=null;if(document.createRange){n=document.createRange();n.selectNode(e)}else{n=document.body.createTextRange();n.moveToElementText(e);n.select()}if(t)t.addRange(n)};e.$DeselectElements=function(){if(document.selection){document.selection.empty()}else if(window.getSelection){window.getSelection().removeAllRanges()}};e.$GetChildren=function(e){var t=[];for(var n=e.firstChild;n;n=n.nextSibling){if(n.nodeType==1){t.push(n)}}return t};e.$FindFirstChildByAttribute=U;e.$FindChildrenByAttribute=z;e.$FindFirstChildByTag=W;e.$FindChildrenByTag=X;e.$GetElementsByTagName=function(e,t){return e.getElementsByTagName(t)};e.$Extend=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n){for(var r in n){e[r]=n[r]}}}return e};e.$Unextend=function(e,t){$JssorDebug$.$Assert(t);var n={};for(var r in e){if(e[r]!=t[r]){n[r]=e[r]}}return n};e.$IsUndefined=function(e){return A(e)=="undefined"};e.$IsFunction=function(e){return A(e)=="function"};e.$IsArray=Array.isArray||function(e){return A(e)=="array"};e.$IsString=function(e){return A(e)=="string"};e.$IsNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};e.$IsWindow=function(e){return e!=null&&e==e.window};e.$Type=A;e.$Each=k;e.$IsPlainObject=O;e.$CreateDivElement=function(t){return e.$CreateElement("DIV",t)};e.$CreateSpanElement=function(t){return e.$CreateElement("SPAN",t)};e.$CreateElement=function(e,t){t=t||document;return t.createElement(e)};e.$EmptyFunction=function(){};e.$GetAttribute=function(e,t){return e.getAttribute(t)};e.$SetAttribute=function(e,t,n){e.setAttribute(t,n)};e.$GetClassName=function(e){return e.className};e.$SetClassName=function(e,t){e.className=t?t:""};e.$GetStyleCursor=function(e){return e.style.cursor};e.$SetStyleCursor=function(e,t){e.style.cursor=t};e.$GetStyleDisplay=function(e){return e.style.display};e.$SetStyleDisplay=function(e,t){e.style.display=t||""};e.$GetStyleOverflow=function(e){return e.style.overflow};e.$SetStyleOverflow=function(e,t){e.style.overflow=t};e.$GetStyleOverflowX=function(e){return e.style.overflowX};e.$SetStyleOverflowX=function(e,t){e.style.overflowX=t};e.$GetStyleOverflowY=function(e){return e.style.overflowY};e.$SetStyleOverflowY=function(e,t){e.style.overflowY=t};e.$GetParentNode=function(e){return e.parentNode};e.$HideElement=function(t){e.$SetStyleDisplay(t,"none")};e.$HideElements=function(t){for(var n=0;n<t.length;n++){e.$HideElement(t[n])}};e.$ShowElement=function(t,n){e.$SetStyleDisplay(t,n==false?"none":"")};e.$ShowElements=function(t){for(var n=0;n<t.length;n++){e.$ShowElement(t[n])}};e.$GetStylePosition=function(e){return e.style.position};e.$SetStylePosition=function(e,t){e.style.position=t};e.$GetStyleTop=function(e){return parseInt(e.style.top,10)};e.$SetStyleTop=function(e,t){e.style.top=t+"px"};e.$GetStyleRight=function(e){return parseInt(e.style.right,10)};e.$SetStyleRight=function(e,t){e.style.right=t+"px"};e.$GetStyleBottom=function(e){return parseInt(e.style.bottom,10)};e.$SetStyleBottom=function(e,t){e.style.bottom=t+"px"};e.$GetStyleLeft=function(e){return parseInt(e.style.left,10)};e.$SetStyleLeft=function(e,t){e.style.left=t+"px"};e.$GetStyleWidth=function(e){return parseInt(e.style.width,10)};e.$SetStyleWidth=function(e,t){e.style.width=Math.max(t,0)+"px"};e.$GetStyleHeight=function(e){return parseInt(e.style.height,10)};e.$SetStyleHeight=function(e,t){e.style.height=Math.max(t,0)+"px"};e.$GetStyleCssText=function(e){return e.style.cssText};e.$SetStyleCssText=function(e,t){e.style.cssText=t};e.$RemoveAttribute=function(e,t){e.removeAttribute(t)};e.$GetBorderWidth=function(e){return parseInt(e.style.borderWidth,10)};e.$SetBorderWdith=function(e,t){e.style.width=t+"px"};e.$GetStyleMarginLeft=function(e){return parseInt(e.style.marginLeft,10)||0};e.$SetStyleMarginLeft=function(e,t){e.style.marginLeft=t+"px"};e.$GetStyleMarginTop=function(e){return parseInt(e.style.marginTop,10)||0};e.$SetStyleMarginTop=function(e,t){e.style.marginTop=t+"px"};e.$GetStyleMarginBottom=function(e){return parseInt(e.style.marginBottom,10)||0};e.$SetStyleMarginBottom=function(e,t){e.style.marginBottom=t+"px"};e.$GetStyleMarginRight=function(e){return parseInt(e.style.marginRight,10)||0};e.$SetStyleMarginRight=function(e,t){e.style.marginRight=t+"px"};e.$GetStyleBorder=function(e){return e.style.border};e.$SetStyleBorder=function(e,t){e.style.border=t};e.$GetStyleBorderWidth=function(e){return parseInt(e.style.borderWidth)};e.$SetStyleBorderWidth=function(e,t){e.style.borderWidth=t+"px"};e.$GetStyleBorderStyle=function(e){return e.style.borderStyle};e.$SetStyleBorderStyle=function(e,t){e.style.borderStyle=t};e.$GetStyleBorderColor=function(e){return e.style.borderColor};e.$SetStyleBorderColor=function(e,t){e.style.borderColor=t};e.$GetStyleVibility=function(e){return e.style.vibility};e.$SetStyleVisibility=function(e,t){e.style.visibility=t};e.$GetStyleZIndex=function(e){return parseInt(e.style.zIndex)||0};e.$SetStyleZIndex=function(e,t){e.style.zIndex=Math.ceil(t)};e.$GetStyleBackgroundColor=function(e){return e.style.backgroundColor};e.$SetStyleBackgroundColor=function(e,t){e.style.backgroundColor=t};e.$GetStyleColor=function(e){return e.style.color};e.$SetStyleColor=function(e,t){e.style.color=t};e.$GetStyleBackgroundImage=function(e){return e.style.backgroundImage};e.$SetStyleBackgroundImage=function(e,t){e.style.backgroundImage=t};e.$CanClearClip=function(){return p()&&i<10};e.$SetStyleClip=function(t,n){if(n){t.style.clip="rect("+Math.round(n.$Top)+"px "+Math.round(n.$Right)+"px "+Math.round(n.$Bottom)+"px "+Math.round(n.$Left)+"px)"}else{var r=e.$GetStyleCssText(t);var i=[new RegExp(/[\s]*clip: rect\(.*?\)[;]?/i),new RegExp(/[\s]*cliptop: .*?[;]?/i),new RegExp(/[\s]*clipright: .*?[;]?/i),new RegExp(/[\s]*clipbottom: .*?[;]?/i),new RegExp(/[\s]*clipleft: .*?[;]?/i)];var s=D(r,i,"");$JssorUtils$.$SetStyleCssText(t,s)}};e.$GetStyleZoom=function(e){return e.style.zoom};e.$SetStyleZoom=function(e,t){return e.style.zoom=t};e.$SetStyleClear=function(e,t){e.style.clear=t};e.$GetNow=function(){return(new Date).getTime()};e.$AppendChild=function(e,t){e.appendChild(t)};e.$AppendChildren=function(t,n){k(n,function(n){e.$AppendChild(t,n)})};e.$InsertBefore=function(e,t,n){e.insertBefore(t,n)};e.$InsertAdjacentHtml=function(e,t,n){e.insertAdjacentHTML(t,n)};e.$RemoveChild=function(e,t){e.removeChild(t)};e.$RemoveChildren=function(t,n){k(n,function(n){e.$RemoveChild(t,n)})};e.$ClearChildren=function(t){e.$RemoveChildren(t,e.$GetChildren(t))};e.$ParseInt=function(e,t){return parseInt(e,t||10)};e.$ParseFloat=function(e){return parseFloat(e)};e.$IsChild=function(e,t){var n=document.body;while(t&&e!=t&&n!=t){try{t=t.parentNode}catch(r){return false}}return e==t};e.$ToLowerCase=function(e){if(e)e=e.toLowerCase();return e};e.$CloneNode=function(e,t){return e.cloneNode(t)};e.$LoadImage=function(t,n){if(e.$IsBrowserOpera()&&i<11.6||!t){V(n,null)}else{var r=new Image;r.onload=e.$CreateCallback(null,V,n,r);r.onabort=e.$CreateCallback(null,V,n,r,true);r.src=t}};e.$LoadImages=function(e,t,n){function i(e,i){r--;if(t&&e&&e.src==t.src)t=e;!r&&n&&n(t)}var r=e.length+1;$JssorUtils$.$Each(e,function(e){$JssorUtils$.$LoadImage(e.src,i)});i()};e.$BuildElement=function(e,t,n,r){if(r)e=$JssorUtils$.$CloneNode(e,true);var i=$JssorUtils$.$GetElementsByTagName(e,t);for(var s=i.length-1;s>-1;s--){var o=i[s];var u=$JssorUtils$.$CloneNode(n,true);$JssorUtils$.$SetClassName(u,$JssorUtils$.$GetClassName(o));$JssorUtils$.$SetStyleCssText(u,$JssorUtils$.$GetStyleCssText(o));var a=$JssorUtils$.$GetParentNode(o);$JssorUtils$.$InsertBefore(a,u,o);$JssorUtils$.$RemoveChild(a,o)}return e};var $;var J=[];e.$Buttonize=function(e){return new K(e)};var Q={$Opacity:e.$GetStyleOpacity,$Top:e.$GetStyleTop,$Left:e.$GetStyleLeft,$Width:e.$GetStyleWidth,$Height:e.$GetStyleHeight,$Position:e.$GetStylePosition,$Display:e.$GetStyleDisplay,$ZIndex:e.$GetStyleZIndex};var G={$Opacity:e.$SetStyleOpacity,$Top:e.$SetStyleTop,$Left:e.$SetStyleLeft,$Width:e.$SetStyleWidth,$Height:e.$SetStyleHeight,$Display:e.$SetStyleDisplay,$Clip:e.$SetStyleClip,$MarginLeft:e.$SetStyleMarginLeft,$MarginTop:e.$SetStyleMarginTop,$Transform:e.$SetStyleTransform,$Position:e.$SetStylePosition,$ZIndex:e.$SetStyleZIndex};e.$GetStyleSetter=Y;e.$GetStyleSetterEx=Z;e.$GetStyles=function(e,t){Y();var n={};k(t,function(t,r){if(Q[r]){n[r]=Q[r](e)}});return n};e.$SetStyles=function(e,t){var n=Y();k(t,function(t,r){n[r]&&n[r](e,t)})};e.$SetStylesEx=function(t,n){Z();e.$SetStyles(t,n)};$JssorMatrix$=new function(){function t(e,t){var n=e[0].length;var r=e.length;var i=t[0].length;var s=[];for(var o=0;o<r;o++){var u=s[o]=[];for(var a=0;a<i;a++){var f=0;for(var l=0;l<n;l++){f+=e[o][l]*t[l][a]}u[a]=f}}return s}var e=this;e.$ScaleX=function(t,n){return e.$ScaleXY(t,n,0)};e.$ScaleY=function(t,n){return e.$ScaleXY(t,0,n)};e.$ScaleXY=function(e,n,r){return t(e,[[n,0],[0,r]])};e.$TransformPoint=function(e,n){var r=t(e,[[n.x],[n.y]]);return new $JssorPoint$(r[0][0],r[1][0])}};e.$CreateMatrix=function(e,t,n){var r=Math.cos(e);var i=Math.sin(e);return[[r*t,-i*n],[i*t,r*n]]};e.$GetMatrixOffset=function(e,t,n){var r=$JssorMatrix$.$TransformPoint(e,new $JssorPoint$(-t/2,-n/2));var i=$JssorMatrix$.$TransformPoint(e,new $JssorPoint$(t/2,-n/2));var s=$JssorMatrix$.$TransformPoint(e,new $JssorPoint$(t/2,n/2));var o=$JssorMatrix$.$TransformPoint(e,new $JssorPoint$(-t/2,n/2));return new $JssorPoint$(Math.min(r.x,i.x,s.x,o.x)+t/2,Math.min(r.y,i.y,s.y,o.y)+n/2)}};$JssorAnimator$=function(e,t,n,r,i,s){function L(e,t,n){var r=0;if(e<t)r=-1;else if(e>n)r=1;return r}function A(e){return L(e,E,S)}function O(e){return L(e,x,T)}function M(e){x+=e;T+=e;E+=e;S+=e;y+=e;b+=e;$JssorUtils$.$Each(C,function(t){t,t.$Shift(e)})}function _(t,n){var r=t-x+e*n;M(r);return T}function D(e,u){var a=e;if(N&&(a>=T||a<=x)){a=((a-x)%N+N)%N+x}if(!w||h||u||y!=a){var f=Math.min(a,T);f=Math.max(f,x);if(!w||h||u||f!=b){if(s){var l=s;if(i){var c=(f-E)/(t||1);if(n.$Optimize&&$JssorUtils$.$IsBrowserChrome()&&t)c=Math.round(c*t/16)/t*16;if(n.$Reverse)c=1-c;l={};for(var p in s){var g=v[p]||1;var S=m[p]||[0,1];var L=(c-S[0])/S[1];L=Math.min(Math.max(L,0),1);L=L*g;var A=Math.floor(L);if(L!=A)L-=A;var O=d[p]||d.$Default;var M=O(L);var _;var D=i[p];var P=s[p];if($JssorUtils$.$IsNumeric(P)){_=D+(P-D)*M}else{_=$JssorUtils$.$Extend({$Offset:{}},i[p]);$JssorUtils$.$Each(P.$Offset,function(e,t){var n=e*M;_.$Offset[t]=n;_[t]+=n})}l[p]=_}}if(i.$Zoom){l.$Transform={$Rotate:l.$Rotate||0,$Scale:l.$Zoom,$OriginalWidth:n.$OriginalWidth,$OriginalHeight:n.$OriginalHeight}}if(s.$Clip&&n.$Move){var H=l.$Clip.$Offset;var B=(H.$Top||0)+(H.$Bottom||0);var j=(H.$Left||0)+(H.$Right||0);l.$Left=(l.$Left||0)+j;l.$Top=(l.$Top||0)+B;l.$Clip.$Left-=j;l.$Clip.$Right-=j;l.$Clip.$Top-=B;l.$Clip.$Bottom-=B}if(l.$Clip&&$JssorUtils$.$CanClearClip()&&!l.$Clip.$Top&&!l.$Clip.$Left&&l.$Clip.$Right==n.$OriginalWidth&&l.$Clip.$Bottom==n.$OriginalHeight)l.$Clip=null;$JssorUtils$.$Each(l,function(e,t){k[t]&&k[t](r,e)})}o.$OnInnerOffsetChange(b-E,f-E)}b=f;$JssorUtils$.$Each(C,function(t,n){var r=e<y?C[C.length-n-1]:t;r.$GoToPosition(e,u)});var F=y;var I=e;y=a;w=true;o.$OnPositionChange(F,I)}}function P(e,t){$JssorDebug$.$Execute(function(){if(t!==0&&t!==1)$JssorDebug$.$Fail("Argument out of range, the value of 'combineMode' should be either 0 or 1.")});if(t)e.$Locate(T,1);T=Math.max(T,e.$GetPosition_OuterEnd());C.push(e)}function H(){if(u){var e=$JssorUtils$.$GetNow();var t=Math.min(e-p,$JssorUtils$.$IsBrowserOpera()?80:20);var r=y+t*c;p=e;if(r*c>=l*c)r=l;D(r);if(!h&&r*c>=l*c){j(g)}else{$JssorUtils$.$Delay(H,n.$Interval)}}}function B(e,t,n){if(!u){u=true;h=n;g=t;e=Math.max(e,x);e=Math.min(e,T);l=e;c=l<y?-1:1;o.$OnStart();p=$JssorUtils$.$GetNow();H()}}function j(e){if(u){h=u=g=false;o.$OnStop();if(e)e()}}e=e||0;var o=this;var u;var a;var f;var l;var c;var h;var p=0;var d;var v;var m;var g;var y=0;var b=0;var w;var E=e;var S=e+t;var x;var T;var N;var C=[];var k;o.$Play=function(e,t,n){B(e?y+e:T,t,n)};o.$PlayToPosition=function(e,t,n){B(e,t,n)};o.$PlayToBegin=function(e,t){B(x,e,t)};o.$PlayToEnd=function(e,t){B(T,e,t)};o.$Stop=function(){j()};o.$Continue=function(e){B(e)};o.$GetPosition=function(){return y};o.$GetPlayToPosition=function(){return l};o.$GetPosition_Display=function(){return b};o.$GoToPosition=D;o.$GoToBegin=function(){D(x,true)};o.$GoToEnd=function(){D(T,true)};o.$Move=function(e){D(y+e)};o.$CombineMode=function(){return f};o.$GetDuration=function(){return t};o.$IsPlaying=function(){return u};o.$IsOnTheWay=function(){return y>E&&y<=S};o.$SetLoopLength=function(e){N=e};o.$Locate=_;o.$Shift=M;o.$Join=P;o.$Combine=function(e){P(e,0)};o.$Chain=function(e){P(e,1)};o.$GetPosition_InnerBegin=function(){return E};o.$GetPosition_InnerEnd=function(){return S};o.$GetPosition_OuterBegin=function(){return x};o.$GetPosition_OuterEnd=function(){return T};o.$OnPositionChange=$JssorUtils$.$EmptyFunction;o.$OnStart=$JssorUtils$.$EmptyFunction;o.$OnStop=$JssorUtils$.$EmptyFunction;o.$OnInnerOffsetChange=$JssorUtils$.$EmptyFunction;o.$Version=$JssorUtils$.$GetNow();{n=$JssorUtils$.$Extend({$Interval:15},n);$JssorDebug$.$Execute(function(){n=$JssorUtils$.$Extend({$LoopLength:undefined,$Setter:undefined,$Easing:undefined},n)});N=n.$LoopLength;k=$JssorUtils$.$Extend({},$JssorUtils$.$GetStyleSetter(),n.$Setter);x=E=e;T=S=e+t;var v=n.$Round||{};var m=n.$During||{};d=$JssorUtils$.$Extend({$Default:$JssorUtils$.$IsFunction(n.$Easing)&&n.$Easing||$JssorEasing$.$EaseSwing},n.$Easing)}}